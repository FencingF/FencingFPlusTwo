package org.fenci.fencingfplus2.features.module.modules.exploit;

import net.minecraft.network.play.client.CPacketPlayer;
import org.fenci.fencingfplus2.features.module.Module;
import org.fenci.fencingfplus2.setting.Setting;

public class HitboxCity extends Module {
    public HitboxCity() {
        super("HitboxCity", "Increases your hitbox to city people", Category.Exploit);
    }


    public static final Setting<Boolean> DisOnDeath = new Setting<>("Disable on death", false);

    @Override
    public void onUpdate() {



        if (DisOnDeath.getValue() && mc.player.isDead) {
                toggle(true);
        }
        if (mc.player.collidedHorizontally) {
            double rad = Math.toRadians(mc.player.rotationYaw);

            double x = mc.player.posX + (0.056 * -Math.sin(rad));
            double z = mc.player.posZ + (0.056 * Math.cos(rad));

            mc.player.connection.sendPacket(new CPacketPlayer.Position(x, mc.player.posY, z, true));
            mc.player.setPosition(x, mc.player.posY, z);
        }
    }
}
